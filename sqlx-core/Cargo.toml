[package]
name = "sqlx-core"
version = "0.6.0-pre"
repository = "https://github.com/launchbadge/sqlx"
description = "Core of SQLx, the Rust SQL Toolkit."
license = "MIT OR Apache-2.0"
edition = "2018"
readme = "README.md"
keywords = []
categories = []
authors = [
    "LaunchBadge <contact@launchbadge.com>"
]

[package.metadata.docs.rs]
# > RUSTDOCFLAGS="--cfg doc_cfg" cargo +nightly doc --all-features --no-deps --open
all-features = true
rustdoc-args = ["--cfg", "doc_cfg"]

[features]
default = []

# blocking (std) runtime
blocking = []

# abstract async feature
# not meant to be used directly
# activates several crates used in all async runtimes
async = ["futures-util", "futures-io", "futures-core"]

# async runtimes
async-std = ["async", "_async-std"]
actix = ["async", "actix-rt", "_tokio", "async-compat"]
tokio = ["async", "_tokio", "async-compat"]

# mock runtime; intended for testing drivers
_mock = ["conquer-once", "parking_lot", "crossbeam"]

[dependencies]
log = "0.4.11"
either = "1.6.1"
actix-rt = { version = "2.0.2", optional = true }
_async-std = { version = "1.8", optional = true, package = "async-std" }
futures-util = { version = "0.3", optional = true, features = ["io"] }
_tokio = { version = "1.0", optional = true, package = "tokio", features = ["net", "io-util"] }
async-compat = { version = "0.2", optional = true }
futures-io = { version = "0.3", optional = true }
futures-core = { version = "0.3", optional = true }
bytes = "1.0"
bytestring = "1.0.0"
memchr = "2.3"
conquer-once = { version = "0.3.2", optional = true }
parking_lot = { version = "0.11.1", optional = true }
crossbeam = { version = "0.8.0", optional = true }
combine = "4.5.2"
